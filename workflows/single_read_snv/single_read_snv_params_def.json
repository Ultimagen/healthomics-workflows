{
    "SingleReadSNV.base_file_name": {
        "description": "Base file name for output files. The output files will be named [base_file_name].with_ml_qual.vcf.gz",
        "optional": false,
        "templates": [
            {
                "name": "single_read_snv_template-Standard-WG",
                "value": "<base_file_name>"
            },
            {
                "name": "single_read_snv_template-ppmSeq_legacy_v5",
                "value": "<base_file_name>"
            },
            {
                "name": "single_read_snv_template-ppmSeq",
                "value": "<base_file_name>"
            }
        ]
    },
    "SingleReadSNV.cloud_provider_override": {
        "description": "cloud_provider_override",
        "optional": true,
        "templates": [
            {
                "name": "single_read_snv_template-Standard-WG",
                "value": "aws"
            },
            {
                "name": "single_read_snv_template-ppmSeq_legacy_v5",
                "value": "aws"
            },
            {
                "name": "single_read_snv_template-ppmSeq",
                "value": "aws"
            }
        ]
    },
    "SingleReadSNV.create_md5_checksum_outputs": {
        "description": "Create md5 checksum for requested output files",
        "optional": true,
        "templates": [
            {
                "name": "single_read_snv_template-Standard-WG",
                "value": false
            },
            {
                "name": "single_read_snv_template-ppmSeq_legacy_v5",
                "value": false
            },
            {
                "name": "single_read_snv_template-ppmSeq",
                "value": false
            }
        ]
    },
    "SingleReadSNV.featuremap_params": {
        "description": "FeatureMap parameters, recommended value set in the template.",
        "optional": false,
        "templates": [
            {
                "name": "single_read_snv_template-Standard-WG",
                "value": {
                    "min_mapq": 1,
                    "padding_size": 5,
                    "score_limit": 100,
                    "exclude_nan_scores": true,
                    "include_dup_reads": true,
                    "keep_supplementary": false,
                    "surrounding_quality_size": 20,
                    "reference_context_size": 3,
                    "cram_tags_to_copy": [
                        "tm:Z:A:AQ:AQZ:AZ:Q:QZ:Z",
                        "a3:i",
                        "rq:f",
                        "MI:Z",
                        "DS:i",
                        "NM:i"
                    ],
                    "bed_file": "s3://ultimagen-workflow-resources-us-east-1/hg38/wgs_calling_regions.without_encode_blacklist.hg38.bed"
                }
            },
            {
                "name": "single_read_snv_template-ppmSeq_legacy_v5",
                "value": {
                    "min_mapq": 1,
                    "padding_size": 5,
                    "score_limit": 100,
                    "exclude_nan_scores": true,
                    "include_dup_reads": true,
                    "keep_supplementary": false,
                    "surrounding_quality_size": 20,
                    "reference_context_size": 3,
                    "cram_tags_to_copy": [
                        "tm:Z:A:AQ:AQZ:AZ:Q:QZ:Z",
                        "a3:i",
                        "rq:f",
                        "as:f",
                        "ts:f",
                        "ae:f",
                        "te:f",
                        "MI:Z",
                        "DS:i"
                    ],
                    "bed_file": "s3://ultimagen-workflow-resources-us-east-1/hg38/wgs_calling_regions.without_encode_blacklist.hg38.bed"
                }
            },
            {
                "name": "single_read_snv_template-ppmSeq",
                "value": {
                    "min_mapq": 1,
                    "padding_size": 5,
                    "score_limit": 100,
                    "exclude_nan_scores": true,
                    "include_dup_reads": true,
                    "keep_supplementary": false,
                    "surrounding_quality_size": 20,
                    "reference_context_size": 3,
                    "cram_tags_to_copy": [
                        "tm:Z:A:AQ:AQZ:AZ:Q:QZ:Z",
                        "a3:i",
                        "rq:f",
                        "st:Z:MIXED:MINUS:PLUS:UNDETERMINED",
                        "et:Z:MIXED:MINUS:PLUS:UNDETERMINED",
                        "sd:i",
                        "ed:i",
                        "l1:i",
                        "l2:i",
                        "l3:i",
                        "l4:i",
                        "l5:i",
                        "l6:i",
                        "l7:i",
                        "q2:i",
                        "q3:i",
                        "q4:i",
                        "q5:i",
                        "q6:i",
                        "MI:Z",
                        "DS:i"
                    ],
                    "bed_file": "s3://ultimagen-workflow-resources-us-east-1/hg38/wgs_calling_regions.without_encode_blacklist.hg38.bed"
                }
            }
        ]
    },
    "SingleReadSNV.featuremap_scatter_count_override": {
        "description": "featuremap_scatter_count_override",
        "optional": true
    },
    "SingleReadSNV.features": {
        "description": "Features to be used for training the SNV quality model, should match pre trained model if one is given, recommended value set in the template.",
        "optional": false,
        "templates": [
            {
                "name": "single_read_snv_template-Standard-WG",
                "value": [
                    "REF",
                    "ALT",
                    "X_PREV1",
                    "X_NEXT1",
                    "X_PREV2",
                    "X_NEXT2",
                    "X_PREV3",
                    "X_NEXT3",
                    "X_HMER_REF",
                    "X_HMER_ALT",
                    "BCSQ",
                    "BCSQCSS",
                    "RL",
                    "INDEX",
                    "REV",
                    "SCST",
                    "SCED",
                    "SMQ_BEFORE",
                    "SMQ_AFTER",
                    "tm",
                    "rq",
                    "EDIST",
                    "HAMDIST",
                    "HAMDIST_FILT"
                ]
            },
            {
                "name": "single_read_snv_template-ppmSeq_legacy_v5",
                "value": [
                    "REF",
                    "ALT",
                    "X_PREV1",
                    "X_NEXT1",
                    "X_PREV2",
                    "X_NEXT2",
                    "X_PREV3",
                    "X_NEXT3",
                    "X_HMER_REF",
                    "X_HMER_ALT",
                    "BCSQ",
                    "BCSQCSS",
                    "RL",
                    "INDEX",
                    "REV",
                    "SCST",
                    "SCED",
                    "SMQ_BEFORE",
                    "SMQ_AFTER",
                    "tm",
                    "rq",
                    "as",
                    "ae",
                    "ts",
                    "te",
                    "EDIST",
                    "HAMDIST",
                    "HAMDIST_FILT"
                ]
            },
            {
                "name": "single_read_snv_template-ppmSeq",
                "value": [
                    "REF",
                    "ALT",
                    "X_PREV1",
                    "X_NEXT1",
                    "X_PREV2",
                    "X_NEXT2",
                    "X_PREV3",
                    "X_NEXT3",
                    "X_HMER_REF",
                    "X_HMER_ALT",
                    "BCSQ",
                    "BCSQCSS",
                    "RL",
                    "INDEX",
                    "REV",
                    "SCST",
                    "SCED",
                    "SMQ_BEFORE",
                    "SMQ_AFTER",
                    "tm",
                    "rq",
                    "st",
                    "et",
                    "sd",
                    "ed",
                    "l1",
                    "l2",
                    "l3",
                    "l4",
                    "l5",
                    "l6",
                    "l7",
                    "q2",
                    "q3",
                    "q4",
                    "q5",
                    "q6",
                    "EDIST",
                    "HAMDIST",
                    "HAMDIST_FILT"
                ]
            }
        ]
    },
    "SingleReadSNV.input_cram_bam": {
        "description": "Input CRAM or BAM file",
        "optional": false,
        "templates": [
            {
                "name": "single_read_snv_template-Standard-WG",
                "value": "<input_cram_bam>.cram"
            },
            {
                "name": "single_read_snv_template-ppmSeq_legacy_v5",
                "value": "<input_cram_bam>.cram"
            },
            {
                "name": "single_read_snv_template-ppmSeq",
                "value": "<input_cram_bam>.cram"
            }
        ]
    },
    "SingleReadSNV.input_cram_bam_index": {
        "description": "Input CRAM or BAM index file",
        "optional": false,
        "templates": [
            {
                "name": "single_read_snv_template-Standard-WG",
                "value": "<input_cram_bam>.cram.crai"
            },
            {
                "name": "single_read_snv_template-ppmSeq_legacy_v5",
                "value": "<input_cram_bam>.cram.crai"
            },
            {
                "name": "single_read_snv_template-ppmSeq",
                "value": "<input_cram_bam>.cram.crai"
            }
        ]
    },
    "SingleReadSNV.mean_coverage": {
        "description": "(Optional) Mean coverage value. Provide together with total_aligned_bases and without sorter_json_stats_file.",
        "optional": true
    },
    "SingleReadSNV.min_coverage_to_train_model": {
        "description": "Minimum coverage to train the ML model, needed as label assignment (true/false SNV) is unreliable at low coverages, the recommended value is set in the template",
        "optional": false,
        "templates": [
            {
                "name": "single_read_snv_template-Standard-WG",
                "value": 8.0
            },
            {
                "name": "single_read_snv_template-ppmSeq_legacy_v5",
                "value": 8.0
            },
            {
                "name": "single_read_snv_template-ppmSeq",
                "value": 8.0
            }
        ]
    },
    "SingleReadSNV.monitoring_script_input": {
        "description": "monitoring_script_input",
        "optional": true
    },
    "SingleReadSNV.no_address_override": {
        "description": "no_address_override",
        "optional": true
    },
    "SingleReadSNV.pre_trained_model_files": {
        "description": "Pre-trained ML model json files, if provided the model will be used for inference and no self-trained model will be created. Use with care, the model must be trained on the same data type with the same features",
        "optional": true
    },
    "SingleReadSNV.pre_trained_srsnv_metadata_json": {
        "description": "Pre-trained SNV quality model metadata json file, if provided the model will be used for inference and no self-trained model will be created. Use with care, the model must be trained on the same data type with the same features",
        "optional": true
    },
    "SingleReadSNV.preemptible_tries": {
        "description": "preemptible_tries",
        "optional": true,
        "templates": [
            {
                "name": "single_read_snv_template-Standard-WG",
                "value": 1
            },
            {
                "name": "single_read_snv_template-ppmSeq_legacy_v5",
                "value": 1
            },
            {
                "name": "single_read_snv_template-ppmSeq",
                "value": 1
            }
        ]
    },
    "SingleReadSNV.prepare_featuremap_for_training_gb": {
        "description": "prepare_featuremap_for_training_gb",
        "optional": true
    },
    "SingleReadSNV.raise_exceptions_in_report": {
        "description": "Raise and exception and fail the pipeline if an error is raised in the QC report",
        "optional": true,
        "templates": [
            {
                "name": "single_read_snv_template-Standard-WG",
                "value": false
            },
            {
                "name": "single_read_snv_template-ppmSeq_legacy_v5",
                "value": false
            },
            {
                "name": "single_read_snv_template-ppmSeq",
                "value": false
            }
        ]
    },
    "SingleReadSNV.random_sample_trinuc_freq": {
        "description": "(Optional) CSV or TSV file with trinucleotide frequencies for the random sample. If provided, the random sample featuremap will be sampled according to the given trinucleotide frequency. If not provided, sampling is uniform.",
        "optional": true,
        "templates": [
            {
                "name": "single_read_snv_template-Standard-WG",
                "value": "s3://ultimagen-workflow-resources-us-east-1/single_read_snv/ref_trinuc_freq.csv"
            },
            {
                "name": "single_read_snv_template-ppmSeq_legacy_v5",
                "value": "s3://ultimagen-workflow-resources-us-east-1/single_read_snv/ref_trinuc_freq.csv"
            },
            {
                "name": "single_read_snv_template-ppmSeq",
                "value": "s3://ultimagen-workflow-resources-us-east-1/single_read_snv/ref_trinuc_freq.csv"
            }
        ]
    },
    "SingleReadSNV.references": {
        "description": "Reference files: fasta, dict and fai, recommended value set in the template",
        "optional": false,
        "templates": [
            {
                "name": "single_read_snv_template-Standard-WG",
                "value": {
                    "ref_fasta": "s3://ultimagen-workflow-resources-us-east-1/hg38/v0/Homo_sapiens_assembly38.fasta",
                    "ref_fasta_index": "s3://ultimagen-workflow-resources-us-east-1/hg38/v0/Homo_sapiens_assembly38.fasta.fai",
                    "ref_dict": "s3://ultimagen-workflow-resources-us-east-1/hg38/v0/Homo_sapiens_assembly38.dict"
                }
            },
            {
                "name": "single_read_snv_template-ppmSeq_legacy_v5",
                "value": {
                    "ref_fasta": "s3://ultimagen-workflow-resources-us-east-1/hg38/v0/Homo_sapiens_assembly38.fasta",
                    "ref_fasta_index": "s3://ultimagen-workflow-resources-us-east-1/hg38/v0/Homo_sapiens_assembly38.fasta.fai",
                    "ref_dict": "s3://ultimagen-workflow-resources-us-east-1/hg38/v0/Homo_sapiens_assembly38.dict"
                }
            },
            {
                "name": "single_read_snv_template-ppmSeq",
                "value": {
                    "ref_fasta": "s3://ultimagen-workflow-resources-us-east-1/hg38/v0/Homo_sapiens_assembly38.fasta",
                    "ref_fasta_index": "s3://ultimagen-workflow-resources-us-east-1/hg38/v0/Homo_sapiens_assembly38.fasta.fai",
                    "ref_dict": "s3://ultimagen-workflow-resources-us-east-1/hg38/v0/Homo_sapiens_assembly38.dict"
                }
            }
        ]
    },
    "SingleReadSNV.single_read_snv_params": {
        "description": "SingleReadSNV parameters, recommended value set in the template.",
        "optional": true,
        "templates": [
            {
                "name": "single_read_snv_template-Standard-WG",
                "value": {
                    "random_seed": 0,
                    "num_CV_folds": 3,
                    "tp_train_set_size": 1500000,
                    "fp_train_set_size": 1500000,
                    "tp_train_set_size_sampling_overhead": 10.0,
                    "min_coverage_filter": 20,
                    "max_coverage_factor": 2.0,
                    "max_vaf_for_fp": 0.05,
                    "pre_filters": [
                        "name=mapq_ge_60:field=MAPQ:op=ge:value=60:type=mapping",
                        "name=no_adj_ref_diff:field=ADJ_REF_DIFF:op=eq:value=0:type=quality",
                        "name=bcsq_gt_40:field=BCSQ:op=gt:value=40:type=quality",
                        "name=edist_le_10:field=EDIST:op=lt:value=10:type=quality",
                        "name=alt_hmer_lt_7:field=X_HMER_ALT:op=lt:value=7:type=quality",
                        "name=not_a_duplicate:field=DUP:op=eq:value=False:type=label"
                    ]
                }
            },
            {
                "name": "single_read_snv_template-ppmSeq_legacy_v5",
                "value": {
                    "random_seed": 0,
                    "num_CV_folds": 3,
                    "tp_train_set_size": 1500000,
                    "fp_train_set_size": 1500000,
                    "tp_train_set_size_sampling_overhead": 10.0,
                    "min_coverage_filter": 20,
                    "max_coverage_factor": 2.0,
                    "max_vaf_for_fp": 0.05,
                    "pre_filters": [
                        "name=mapq_ge_60:field=MAPQ:op=ge:value=60:type=mapping",
                        "name=no_adj_ref_diff:field=ADJ_REF_DIFF:op=eq:value=0:type=quality",
                        "name=bcsq_gt_40:field=BCSQ:op=gt:value=40:type=quality",
                        "name=edist_le_10:field=EDIST:op=lt:value=10:type=quality",
                        "name=alt_hmer_lt_7:field=X_HMER_ALT:op=lt:value=7:type=quality",
                        "name=not_a_duplicate:field=DUP:op=eq:value=False:type=label"
                    ]
                }
            },
            {
                "name": "single_read_snv_template-ppmSeq",
                "value": {
                    "random_seed": 0,
                    "num_CV_folds": 3,
                    "tp_train_set_size": 1500000,
                    "fp_train_set_size": 1500000,
                    "tp_train_set_size_sampling_overhead": 10.0,
                    "min_coverage_filter": 20,
                    "max_coverage_factor": 2.0,
                    "max_vaf_for_fp": 0.05,
                    "pre_filters": [
                        "name=mapq_ge_60:field=MAPQ:op=ge:value=60:type=mapping",
                        "name=no_adj_ref_diff:field=ADJ_REF_DIFF:op=eq:value=0:type=quality",
                        "name=bcsq_gt_40:field=BCSQ:op=gt:value=40:type=quality",
                        "name=edist_le_10:field=EDIST:op=lt:value=10:type=quality",
                        "name=alt_hmer_lt_7:field=X_HMER_ALT:op=lt:value=7:type=quality",
                        "name=not_a_duplicate:field=DUP:op=eq:value=False:type=label"
                    ]
                }
            }
        ]
    },
    "SingleReadSNV.sorter_json_stats_file": {
        "description": "(Optional) Sorter json stats file. Provide EITHER this file OR both mean_coverage and total_aligned_bases.",
        "optional": true,
        "templates": [
            {
                "name": "single_read_snv_template-Standard-WG",
                "value": "<sorter_stats>.json"
            },
            {
                "name": "single_read_snv_template-ppmSeq_legacy_v5",
                "value": "<sorter_stats>.json"
            },
            {
                "name": "single_read_snv_template-ppmSeq",
                "value": "<sorter_stats>.json"
            }
        ]
    },
    "SingleReadSNV.total_aligned_bases": {
        "description": "(Optional) Total aligned bases used for downsampling rate calculation. Provide together with mean_coverage and without sorter_json_stats_file.",
        "optional": true
    },
    "SingleReadSNV.training_regions_interval_list": {
        "description": "Genomic regions to include in the training set, the recommended value is set in the template",
        "optional": false,
        "templates": [
            {
                "name": "single_read_snv_template-Standard-WG",
                "value": "s3://ultimagen-workflow-resources-us-east-1/hg38/annotation_intervals/ug_rare_variant_hcr.Homo_sapiens_assembly38.interval_list.gz"
            },
            {
                "name": "single_read_snv_template-ppmSeq_legacy_v5",
                "value": "s3://ultimagen-workflow-resources-us-east-1/hg38/annotation_intervals/ug_rare_variant_hcr.Homo_sapiens_assembly38.interval_list.gz"
            },
            {
                "name": "single_read_snv_template-ppmSeq",
                "value": "s3://ultimagen-workflow-resources-us-east-1/hg38/annotation_intervals/ug_rare_variant_hcr.Homo_sapiens_assembly38.interval_list.gz"
            }
        ]
    },
    "SingleReadSNV.training_regions_interval_list_index": {
        "description": "Index for genomic regions to exclude from the training set, the recommended value is set in the template",
        "optional": true,
        "templates": [
            {
                "name": "single_read_snv_template-Standard-WG",
                "value": "s3://ultimagen-workflow-resources-us-east-1/hg38/annotation_intervals/ug_rare_variant_hcr.Homo_sapiens_assembly38.interval_list.gz.tbi"
            },
            {
                "name": "single_read_snv_template-ppmSeq_legacy_v5",
                "value": "s3://ultimagen-workflow-resources-us-east-1/hg38/annotation_intervals/ug_rare_variant_hcr.Homo_sapiens_assembly38.interval_list.gz.tbi"
            },
            {
                "name": "single_read_snv_template-ppmSeq",
                "value": "s3://ultimagen-workflow-resources-us-east-1/hg38/annotation_intervals/ug_rare_variant_hcr.Homo_sapiens_assembly38.interval_list.gz.tbi"
            }
        ]
    },
    "SingleReadSNV.xgboost_params_file": {
        "description": "XGBoost parameters file for training the SNV quality model, recommended value set in the template.",
        "optional": false,
        "templates": [
            {
                "name": "single_read_snv_template-Standard-WG",
                "value": "s3://ultimagen-workflow-resources-us-east-1/single_read_snv/250628.xgboost_model_params.json"
            },
            {
                "name": "single_read_snv_template-ppmSeq_legacy_v5",
                "value": "s3://ultimagen-workflow-resources-us-east-1/single_read_snv/250628.xgboost_model_params.json"
            },
            {
                "name": "single_read_snv_template-ppmSeq",
                "value": "s3://ultimagen-workflow-resources-us-east-1/single_read_snv/250628.xgboost_model_params.json"
            }
        ]
    }
}